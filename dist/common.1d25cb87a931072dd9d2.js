"use strict";(self.webpackChunkdev_challenge=self.webpackChunkdev_challenge||[]).push([[76],{333:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function o(t,e,n){return(e=s(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}n.r(e),n.d(e,{CalculatorModal:()=>$});var l=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({closeOnBackdrop:!0,closeOnEscape:!0,focusTrap:!0,animationDuration:300},e),this.isOpen=!1,this.previousActiveElement=null,this.firstFocusableElement=null,this.lastFocusableElement=null,this.init()},e=[{key:"init",value:function(){this.backdrop=document.createElement("div"),this.backdrop.className="modal-backdrop fixed inset-0 bg-black bg-opacity-0 hidden z-40 transition-opacity duration-300",this.container=document.createElement("div"),this.container.className="modal-container fixed inset-0 flex items-center justify-center p-4 z-50 hidden",this.modal=document.createElement("div"),this.modal.className="modal bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-auto transform scale-95 opacity-0 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-blue-300 focus:ring-opacity-50",this.modal.setAttribute("role","dialog"),this.modal.setAttribute("aria-modal","true"),this.modal.setAttribute("aria-labelledby","modal-title"),this.modal.setAttribute("aria-describedby","modal-description"),this.modal.setAttribute("tabindex","-1"),this.container.appendChild(this.modal),document.body.appendChild(this.backdrop),document.body.appendChild(this.container),this.setupEventListeners()}},{key:"setupEventListeners",value:function(){var t=this;this.options.closeOnBackdrop&&(this.backdrop.addEventListener("click",function(){return t.close()}),this.container.addEventListener("click",function(e){e.target===t.container&&t.close()})),this.options.closeOnEscape&&document.addEventListener("keydown",function(e){"Escape"===e.key&&t.isOpen&&t.close()}),this.options.focusTrap&&document.addEventListener("keydown",function(e){"Tab"===e.key&&t.isOpen&&t.handleTabKey(e)})}},{key:"handleTabKey",value:function(t){var e=this.modal.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');0!==e.length&&(this.firstFocusableElement=e[0],this.lastFocusableElement=e[e.length-1],t.shiftKey?document.activeElement===this.firstFocusableElement&&(t.preventDefault(),this.lastFocusableElement.focus()):document.activeElement===this.lastFocusableElement&&(t.preventDefault(),this.firstFocusableElement.focus()))}},{key:"setContent",value:function(t){"string"==typeof t?this.modal.innerHTML=t:t instanceof HTMLElement&&(this.modal.innerHTML="",this.modal.appendChild(t))}},{key:"open",value:function(){var t=this;this.isOpen||(this.isOpen=!0,this.previousActiveElement=document.activeElement,this.backdrop.classList.remove("hidden"),this.container.classList.remove("hidden"),this.backdrop.offsetHeight,requestAnimationFrame(function(){t.backdrop.classList.add("bg-opacity-50"),t.modal.classList.remove("scale-95","opacity-0"),t.modal.classList.add("scale-100","opacity-100"),setTimeout(function(){var e=t.modal.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');e.length>0?e[0].focus():t.modal.focus()},t.options.animationDuration)}),document.body.style.overflow="hidden")}},{key:"close",value:function(){var t=this;this.isOpen&&(this.isOpen=!1,this.backdrop.classList.remove("bg-opacity-50"),this.modal.classList.add("scale-95","opacity-0"),this.modal.classList.remove("scale-100","opacity-100"),setTimeout(function(){t.backdrop.classList.add("hidden"),t.container.classList.add("hidden"),t.previousActiveElement&&t.previousActiveElement.focus(),document.body.style.overflow=""},this.options.animationDuration))}},{key:"destroy",value:function(){this.backdrop.remove(),this.container.remove()}}],e&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function d(t){if(!t||0===t.length)return 0;var e=u(t).sort(function(t,e){return t-e}),n=Math.floor(e.length/2);return e.length%2==0?(e[n-1]+e[n])/2:e[n]}function b(t){if(!t||0===t.length)return 0;if(1===t.length)return 0;var e=t.reduce(function(t,e){return t+e},0)/t.length;return t.map(function(t){return Math.pow(t-e,2)}).reduce(function(t,e){return t+e},0)/(t.length-1)}function m(t){if(!t||0===t.length)return 0;var e=Math.min.apply(Math,u(t));return Math.max.apply(Math,u(t))-e}function p(t){return t&&0!==t.length?Math.sqrt(b(t)):0}function h(t){return t&&0!==t.length?t.reduce(function(t,e){return t+e},0):0}function g(t){return t?t.length:0}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null==t?"N/A":"number"!=typeof t?t.toString():new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:e}).format(t)}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){k(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function k(t,e,n){return(e=function(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var A="meanmachine_calculations";function E(){try{var t=localStorage.getItem(A);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load calculation history:",t),[]}}function C(t){var e=new Date(t),n=new Date,r=Math.floor((n-e)/6e4);return r<1?"Just now":r<60?"".concat(r,"m ago"):r<1440?"".concat(Math.floor(r/60),"h ago"):e.toLocaleDateString()}function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function O(t,e,n){return(e=q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q(r.key),r)}}function q(t){var e=function(t){if("object"!=_(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_(e)?e:e+""}var N=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.options=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach(function(e){O(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({width:400,height:200,margin:{top:20,right:20,bottom:40,left:40},barColor:"#3b82f6",averageLineColor:"#ef4444",animationDuration:800},n),this.svg=null,this.data=[]},(e=[{key:"render",value:function(t,e){var n=this;this.data=t.map(function(t,e){return{index:e,value:t}}),this.average=e,this.container.innerHTML="",this.svg=this.createSVG(),this.container.appendChild(this.svg);var r=Math.max.apply(Math,function(t){return function(t){if(Array.isArray(t))return L(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return L(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t).concat([e])),a=r+(.1*r+5);this.yScale=function(t){var e=n.options.height-n.options.margin.top-n.options.margin.bottom;return e-(t-0)/(a-0)*e},this.xScale=function(e){var r=(n.options.width-n.options.margin.left-n.options.margin.right)/t.length;return e*r+r/2},this.drawAxes(0,a),this.drawBars(),this.drawAverageLine(),this.drawLabels()}},{key:"createSVG",value:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width",this.options.width),t.setAttribute("height",this.options.height),t.setAttribute("viewBox","0 0 ".concat(this.options.width," ").concat(this.options.height)),t.setAttribute("class","chart-svg"),t.style.overflow="visible";var e=document.createElementNS("http://www.w3.org/2000/svg","defs");return document.body.classList.contains("tier-diamond")&&[{id:"diamond-gradient-1",colors:["#8B0045","#A0306E"]},{id:"diamond-gradient-2",colors:["#006B7A","#008B98"]},{id:"diamond-gradient-3",colors:["#B8860B","#D4A00D"]},{id:"diamond-gradient-4",colors:["#CC5500","#E66A00"]},{id:"diamond-gradient-5",colors:["#4B0082","#6A0DAD"]},{id:"diamond-gradient-6",colors:["#006400","#228B22"]},{id:"diamond-gradient-7",colors:["#8B0000","#B22222"]},{id:"diamond-gradient-8",colors:["#191970","#4169E1"]},{id:"diamond-gradient-9",colors:["#556B2F","#6B8E23"]},{id:"diamond-gradient-10",colors:["#A0522D","#CD853F"]}].forEach(function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");n.setAttribute("id",t.id),n.setAttribute("x1","0%"),n.setAttribute("y1","0%"),n.setAttribute("x2","0%"),n.setAttribute("y2","100%");var r=document.createElementNS("http://www.w3.org/2000/svg","stop");r.setAttribute("offset","0%"),r.setAttribute("stop-color",t.colors[0]);var a=document.createElementNS("http://www.w3.org/2000/svg","stop");a.setAttribute("offset","100%"),a.setAttribute("stop-color",t.colors[1]),n.appendChild(r),n.appendChild(a),e.appendChild(n)}),t.appendChild(e),t}},{key:"drawAxes",value:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttribute("class","axes");var r=document.createElementNS("http://www.w3.org/2000/svg","line");r.setAttribute("x1",this.options.margin.left),r.setAttribute("y1",this.options.margin.top),r.setAttribute("x2",this.options.margin.left),r.setAttribute("y2",this.options.height-this.options.margin.bottom),r.setAttribute("stroke","currentColor"),r.setAttribute("stroke-width","1"),r.setAttribute("opacity","0.3"),n.appendChild(r);var a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",this.options.margin.left),a.setAttribute("y1",this.options.height-this.options.margin.bottom),a.setAttribute("x2",this.options.width-this.options.margin.right),a.setAttribute("y2",this.options.height-this.options.margin.bottom),a.setAttribute("stroke","currentColor"),a.setAttribute("stroke-width","1"),a.setAttribute("opacity","0.3"),n.appendChild(a);for(var o=0;o<=5;o++){var i=t+o/5*(e-t),s=this.options.margin.top+this.yScale(i),l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x",this.options.margin.left-10),l.setAttribute("y",s+4),l.setAttribute("text-anchor","end"),l.setAttribute("class","text-xs fill-current opacity-60"),l.textContent=i.toFixed(1),n.appendChild(l);var u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1",this.options.margin.left),u.setAttribute("y1",s),u.setAttribute("x2",this.options.width-this.options.margin.right),u.setAttribute("y2",s),u.setAttribute("stroke","currentColor"),u.setAttribute("stroke-width","0.5"),u.setAttribute("opacity","0.1"),n.appendChild(u)}this.svg.appendChild(n)}},{key:"drawBars",value:function(){var t=this,e=this.options.width-this.options.margin.left-this.options.margin.right,n=Math.max(20,e/this.data.length*.8);this.data.forEach(function(e,r){var a=t.options.margin.left+t.xScale(r)-n/2,o=t.options.margin.top+t.yScale(e.value),i=t.options.height-t.options.margin.bottom-o,s=document.createElementNS("http://www.w3.org/2000/svg","rect");if(s.setAttribute("x",a),s.setAttribute("y",t.options.height-t.options.margin.bottom),s.setAttribute("width",n),s.setAttribute("height",0),document.body.classList.contains("tier-diamond")){var l="diamond-gradient-".concat(r%10+1);s.setAttribute("fill","url(#".concat(l,")"))}else s.setAttribute("fill",t.options.barColor);s.setAttribute("rx","2"),s.setAttribute("class","bar chart-bar"),s.addEventListener("mouseenter",function(){s.setAttribute("opacity","0.8")}),s.addEventListener("mouseleave",function(){s.setAttribute("opacity","1")}),t.svg.appendChild(s),setTimeout(function(){s.style.transition="height ".concat(t.options.animationDuration,"ms ease-out, y ").concat(t.options.animationDuration,"ms ease-out"),s.setAttribute("y",o),s.setAttribute("height",i)},100*r);var u=document.createElementNS("http://www.w3.org/2000/svg","text");u.setAttribute("x",a+n/2),u.setAttribute("y",o-5),u.setAttribute("text-anchor","middle"),u.setAttribute("class","text-xs fill-current font-medium"),u.setAttribute("opacity","0"),u.textContent=e.value,t.svg.appendChild(u),setTimeout(function(){u.style.transition="opacity ".concat(t.options.animationDuration/2,"ms ease-out"),u.setAttribute("opacity","0.8")},100*r+t.options.animationDuration/2)})}},{key:"drawAverageLine",value:function(){var t=this,e=this.options.margin.top+this.yScale(this.average),n=document.createElementNS("http://www.w3.org/2000/svg","line");n.setAttribute("x1",this.options.margin.left),n.setAttribute("y1",e),n.setAttribute("x2",this.options.width-this.options.margin.right),n.setAttribute("y2",e),n.setAttribute("stroke",this.options.averageLineColor),n.setAttribute("stroke-width","2"),n.setAttribute("stroke-dasharray","5,5"),n.setAttribute("opacity","0"),n.setAttribute("class","average-line chart-line"),this.svg.appendChild(n),setTimeout(function(){n.style.transition="opacity ".concat(t.options.animationDuration,"ms ease-out"),n.setAttribute("opacity","0.8")},100*this.data.length+this.options.animationDuration);var r=document.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("x",this.options.width-this.options.margin.right+5),r.setAttribute("y",e+4),r.setAttribute("class","text-xs fill-current font-semibold"),r.setAttribute("opacity","0"),r.style.fill=this.options.averageLineColor,r.textContent="Avg: ".concat(this.average.toFixed(2)),this.svg.appendChild(r),setTimeout(function(){r.style.transition="opacity ".concat(t.options.animationDuration,"ms ease-out"),r.setAttribute("opacity","1")},100*this.data.length+this.options.animationDuration+200)}},{key:"drawLabels",value:function(){var t=this;this.data.forEach(function(e,n){var r=t.options.margin.left+t.xScale(n),a=t.options.height-t.options.margin.bottom+20,o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttribute("x",r),o.setAttribute("y",a),o.setAttribute("text-anchor","middle"),o.setAttribute("class","text-xs fill-current opacity-60"),o.textContent="#".concat(n+1),t.svg.appendChild(o)})}},{key:"destroy",value:function(){this.container&&(this.container.innerHTML="")}}])&&j(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),D=n(742);function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I(r.key),r)}}function I(t){var e=function(t){if("object"!=M(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==M(e)?e:e+""}var R=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.numbers=e,this.actualValues=n,this.onComplete=r,this.guesses={},this.results=[],this.statsToGuess=[{key:"average",label:"Average (Mean)",icon:"📊"},{key:"median",label:"Median",icon:"📈"},{key:"variance",label:"Variance",icon:"📉"},{key:"stdDev",label:"Standard Deviation",icon:"📐"},{key:"range",label:"Range",icon:"📏"}],this.create()},e=[{key:"create",value:function(){var t=this;this.modal=document.createElement("div"),this.modal.className="guess-modal-overlay",this.modal.innerHTML='\n      <div class="guess-modal">\n        <div class="guess-header">\n          <h2>🎯 Test Your Math Skills!</h2>\n          <p>Can you calculate these values in your head?</p>\n          <div class="numbers-display">\n            Numbers: <span class="number-pills">'.concat(this.formatNumbers(),'</span>\n          </div>\n        </div>\n        \n        <div class="guess-content">\n          <div class="guess-grid">\n            ').concat(this.createGuessInputs(),'\n          </div>\n          \n          <div class="guess-tips">\n            <p class="tip">💡 Tip: Leave blank to skip any value</p>\n            <p class="points-info">\n              🏆 Points: Exact = 100pts | Within 10% = 50pts | Within 20% = 25pts | Attempt = 5pts\n            </p>\n          </div>\n        </div>\n        \n        <div class="guess-footer">\n          <button class="skip-guess-btn">Skip Challenge</button>\n          <button class="submit-guess-btn primary-button">Submit Guesses</button>\n        </div>\n      </div>\n    '),this.addStyles(),document.body.appendChild(this.modal),this.attachEventListeners(),setTimeout(function(){var e;null===(e=t.modal.querySelector(".guess-input"))||void 0===e||e.focus()},100)}},{key:"formatNumbers",value:function(){return this.numbers.map(function(t){return'<span class="number-pill">'.concat(t,"</span>")}).join("")}},{key:"createGuessInputs",value:function(){return this.statsToGuess.map(function(t){return'\n      <div class="guess-item">\n        <label for="guess-'.concat(t.key,'">\n          <span class="stat-icon">').concat(t.icon,'</span>\n          <span class="stat-label">').concat(t.label,'</span>\n        </label>\n        <input \n          type="number" \n          id="guess-').concat(t.key,'" \n          class="guess-input" \n          data-stat="').concat(t.key,'"\n          placeholder="Your guess..."\n          step="0.01"\n        >\n        <div class="guess-feedback" id="feedback-').concat(t.key,'"></div>\n      </div>\n    ')}).join("")}},{key:"addStyles",value:function(){var t=document.createElement("style");t.textContent='\n      .guess-modal-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.7);\n        backdrop-filter: blur(4px);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 10000;\n        animation: fadeIn 0.3s ease-out;\n      }\n      \n      .guess-modal {\n        border-radius: 16px;\n        padding: 32px;\n        max-width: 600px;\n        width: 90%;\n        max-height: 80vh;\n        overflow-y: auto;\n        animation: slideIn 0.3s ease-out;\n      }\n      \n      .guess-header {\n        text-align: center;\n        margin-bottom: 24px;\n      }\n      \n      .guess-header h2 {\n        color: #3b82f6;\n        margin-bottom: 8px;\n        font-size: 28px;\n      }\n      \n      .guess-header p {\n        color: #6b7280;\n        margin-bottom: 16px;\n      }\n      \n      [data-theme="dark"] .guess-header p {\n        color: #9ca3af;\n      }\n      \n      .numbers-display {\n        font-size: 16px;\n        color: #374151;\n      }\n      \n      [data-theme="dark"] .numbers-display {\n        color: #d1d5db;\n      }\n      \n      .number-pills {\n        display: inline-flex;\n        gap: 8px;\n        flex-wrap: wrap;\n        margin-left: 8px;\n      }\n      \n      .number-pill {\n        background: #e5e7eb;\n        padding: 4px 12px;\n        border-radius: 20px;\n        font-weight: 600;\n        color: #374151;\n      }\n      \n      [data-theme="dark"] .number-pill {\n        background: #374151;\n        color: #e5e7eb;\n      }\n      \n      .guess-grid {\n        display: grid;\n        gap: 20px;\n        margin-bottom: 24px;\n      }\n      \n      .guess-item {\n        display: grid;\n        grid-template-columns: 200px 1fr;\n        gap: 12px;\n        align-items: center;\n      }\n      \n      .guess-item label {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-weight: 500;\n      }\n      \n      .stat-icon {\n        font-size: 20px;\n      }\n      \n      .guess-input {\n        padding: 8px 16px;\n        border: 2px solid #e5e7eb;\n        border-radius: 8px;\n        font-size: 16px;\n        transition: border-color 0.2s;\n      }\n      \n      [data-theme="dark"] .guess-input {\n        background: #374151;\n        border-color: #4b5563;\n        color: #e5e7eb;\n      }\n      \n      .guess-input:focus {\n        outline: none;\n        border-color: #3b82f6;\n      }\n      \n      .guess-feedback {\n        grid-column: 2;\n        font-size: 14px;\n        margin-top: 4px;\n        height: 20px;\n      }\n      \n      .guess-feedback.correct {\n        color: #10b981;\n        font-weight: 600;\n      }\n      \n      .guess-feedback.close {\n        color: #f59e0b;\n      }\n      \n      .guess-feedback.far {\n        color: #ef4444;\n      }\n      \n      .guess-tips {\n        background: #f3f4f6;\n        border-radius: 8px;\n        padding: 16px;\n        margin-bottom: 24px;\n      }\n      \n      [data-theme="dark"] .guess-tips {\n        background: #374151;\n      }\n      \n      .tip {\n        margin: 0 0 8px 0;\n        color: #6b7280;\n      }\n      \n      .points-info {\n        margin: 0;\n        color: #374151;\n        font-size: 14px;\n      }\n      \n      [data-theme="dark"] .points-info {\n        color: #d1d5db;\n      }\n      \n      .guess-footer {\n        display: flex;\n        justify-content: space-between;\n        gap: 16px;\n      }\n      \n      .skip-guess-btn, .submit-guess-btn {\n        padding: 12px 24px;\n        border-radius: 8px;\n        font-size: 16px;\n        font-weight: 600;\n        cursor: pointer;\n        transition: all 0.2s;\n        border: none;\n      }\n      \n      .skip-guess-btn {\n        background: #e5e7eb;\n        color: #374151;\n      }\n      \n      .skip-guess-btn:hover {\n        background: #d1d5db;\n      }\n      \n      [data-theme="dark"] .skip-guess-btn {\n        background: #4b5563;\n        color: #e5e7eb;\n      }\n      \n      [data-theme="dark"] .skip-guess-btn:hover {\n        background: #6b7280;\n      }\n      \n      .submit-guess-btn {\n        background: #3b82f6;\n        color: white;\n        flex: 1;\n      }\n      \n      .submit-guess-btn:hover {\n        background: #2563eb;\n        transform: translateY(-1px);\n      }\n      \n      .submit-guess-btn:active {\n        transform: translateY(0);\n      }\n      \n      @keyframes fadeIn {\n        from { opacity: 0; }\n        to { opacity: 1; }\n      }\n      \n      @keyframes slideIn {\n        from {\n          transform: translateY(-20px);\n          opacity: 0;\n        }\n        to {\n          transform: translateY(0);\n          opacity: 1;\n        }\n      }\n      \n      @media (max-width: 640px) {\n        .guess-item {\n          grid-template-columns: 1fr;\n        }\n        \n        .guess-feedback {\n          grid-column: 1;\n        }\n      }\n    ',document.head.appendChild(t),this.styleElement=t}},{key:"attachEventListeners",value:function(){var t=this;this.modal.querySelector(".skip-guess-btn").addEventListener("click",function(){t.close(!1)}),this.modal.querySelector(".submit-guess-btn").addEventListener("click",function(){t.submitGuesses()}),this.modal.addEventListener("keydown",function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),t.submitGuesses()),"Escape"===e.key&&t.close(!1)}),this.modal.querySelectorAll(".guess-input").forEach(function(e){e.addEventListener("input",function(){t.validateInput(e)})})}},{key:"validateInput",value:function(t){var e=parseFloat(t.value),n=t.dataset.stat,r=this.modal.querySelector("#feedback-".concat(n));if(""===t.value)return r.textContent="",void(r.className="guess-feedback");isNaN(e)?(r.textContent="Please enter a valid number",r.className="guess-feedback far"):(r.textContent="✓ Valid guess",r.className="guess-feedback")}},{key:"submitGuesses",value:function(){var t=this,e=this.modal.querySelectorAll(".guess-input"),n=!1;e.forEach(function(e){var r=e.dataset.stat,a=parseFloat(e.value);if(!isNaN(a)&&""!==e.value){n=!0;var o=t.actualValues[r],i=0===o?0===a?0:1:Math.abs(a-o)/Math.abs(o);t.guesses[r]=a,t.results.push({stat:r,guess:a,actual:o,accuracy:i,points:D.X.calculatePoints("guess",{accuracy:i})}),t.showFeedback(r,a,o,i)}}),n?setTimeout(function(){t.close(!0)},5e3):this.close(!1)}},{key:"showFeedback",value:function(t,e,n,r){var a=this.modal.querySelector("#feedback-".concat(t)),o=this.modal.querySelector("#guess-".concat(t));0===r?(a.textContent="🎯 PERFECT! +100 points",a.className="guess-feedback correct",o.style.borderColor="#10b981"):r<=.1?(a.textContent="✨ Very close! Within ".concat((100*r).toFixed(1),"% (+50 points)"),a.className="guess-feedback close",o.style.borderColor="#f59e0b"):r<=.2?(a.textContent="👍 Good try! Within ".concat((100*r).toFixed(1),"% (+25 points)"),a.className="guess-feedback close",o.style.borderColor="#f59e0b"):(a.textContent="Actual: ".concat(n.toFixed(2)," (+5 points for trying)"),a.className="guess-feedback far",o.style.borderColor="#ef4444")}},{key:"close",value:function(t){var e=this;this.modal.classList.add("closing"),setTimeout(function(){e.modal.remove(),e.styleElement.remove(),e.onComplete&&e.onComplete(t?e.results:null)},300)}}],e&&P(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),F=document.createElement("style");function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G(r.key),r)}}function G(t){var e=function(t){if("object"!=B(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==B(e)?e:e+""}F.textContent="\n  .guess-modal-overlay.closing {\n    animation: fadeOut 0.3s ease-out;\n  }\n  \n  .guess-modal-overlay.closing .guess-modal {\n    animation: slideOut 0.3s ease-out;\n  }\n  \n  @keyframes fadeOut {\n    to { opacity: 0; }\n  }\n  \n  @keyframes slideOut {\n    to {\n      transform: translateY(-20px);\n      opacity: 0;\n    }\n  }\n",document.head.appendChild(F);var z=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.showCount=0,this.init()},e=[{key:"init",value:function(){var t=document.createElement("link");t.rel="stylesheet",t.href="/src/styles/signature.css",document.head.appendChild(t),this.addEasterEggHint(),this.setupFaviconAnimation(),this.setupAchievementProgress()}},{key:"showSignature",value:function(){if(this.showCount++,this.showCount%3==0){var t=document.createElement("div");t.className="creator-signature",t.innerHTML='\n      Built with ❤️ by\n      <a href="https://github.com/yourusername" target="_blank" rel="noopener">Jay</a>\n    ',document.body.appendChild(t),setTimeout(function(){t.classList.add("show")},100),setTimeout(function(){t.classList.remove("show"),setTimeout(function(){return t.remove()},300)},3e3)}}},{key:"addEasterEggHint",value:function(){var t=document.createElement("div");t.className="easter-egg-hint",t.textContent="↑↑↓↓←→←→BA",t.title="Try this sequence on your keyboard...",document.body.appendChild(t)}},{key:"setupFaviconAnimation",value:function(){var t;this.originalFavicon=null===(t=document.querySelector('link[rel="icon"]'))||void 0===t?void 0:t.href,this.animatedFavicon=this.createAnimatedFavicon()}},{key:"createAnimatedFavicon",value:function(){var t=document.createElement("canvas");t.width=32,t.height=32;var e=t.getContext("2d");return function(n){return e.clearRect(0,0,32,32),e.fillStyle="#3b82f6",e.fillRect(0,0,32,32),e.fillStyle="#10b981",e.fillRect(0,28,32*n,4),e.fillStyle="white",e.font="bold 20px Arial",e.textAlign="center",e.textBaseline="middle",e.fillText("∑",16,14),t.toDataURL()}}},{key:"animateFavicon",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,n=document.querySelector('link[rel="icon"]');if(n){var r=Date.now(),a=function(){var o=Date.now()-r,i=Math.min(o/e,1);n.href=t.animatedFavicon(i),i<1?requestAnimationFrame(a):t.originalFavicon&&(n.href=t.originalFavicon)};a()}}},{key:"setupAchievementProgress",value:function(){var t=document.createElement("div");t.className="achievement-progress",t.innerHTML='<div class="achievement-progress-bar"></div>',document.body.appendChild(t),this.progressBar=t,this.progressBarInner=t.querySelector(".achievement-progress-bar")}},{key:"updateAchievementProgress",value:function(t){var e=this;this.progressBar&&(this.progressBar.classList.add("show"),this.progressBarInner.style.width="".concat(t,"%"),clearTimeout(this.progressTimeout),this.progressTimeout=setTimeout(function(){e.progressBar.classList.remove("show")},3e3))}},{key:"create404Page",value:function(){return'\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta charset="UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>404 - Lost in Calculation</title>\n        <style>\n          body { margin: 0; font-family: system-ui, -apple-system, sans-serif; }\n          '.concat(this.get404Styles(),'\n        </style>\n      </head>\n      <body>\n        <div class="error-404">\n          <h1>404</h1>\n          <h2>Lost in the Numbers!</h2>\n          <p>The page you\'re looking for doesn\'t add up.</p>\n          <pre class="calculator-ascii">\n     _____________________\n    |  _________________  |\n    | |              0. | |\n    | |_________________| |\n    |  ___ ___ ___   ___  |\n    | | 7 | 8 | 9 | | + | |\n    | |___|___|___| |___| |\n    | | 4 | 5 | 6 | | - | |\n    | |___|___|___| |___| |\n    | | 1 | 2 | 3 | | × | |\n    | |___|___|___| |___| |\n    | | . | 0 | = | | ÷ | |\n    | |___|___|___| |___| |\n    |_____________________|\n          </pre>\n          <a href="/" style="color: white; font-size: 1.2rem;">← Back to Calculator</a>\n        </div>\n      </body>\n      </html>\n    ')}},{key:"get404Styles",value:function(){return"\n      .error-404 {\n        min-height: 100vh;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n        padding: 2rem;\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n      }\n      /* ... rest of 404 styles from signature.css ... */\n    "}}],e&&H(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}());function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K(r.key),r)}}function K(t){var e=function(t){if("object"!=V(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==V(e)?e:e+""}function X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(X=function(){return!!t})()}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}var $=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e,n){return e=J(e),function(t,e){if(e&&("object"==V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,X()?Reflect.construct(e,n||[],J(t).constructor):e.apply(t,n))}(this,e,[{closeOnBackdrop:!0,closeOnEscape:!0,focusTrap:!0}])).calculateFunction=t,n.mode="custom",n.numbers=[],n.result=null,n.chart=null,n.render(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(e,t),n=e,r=[{key:"render",value:function(){var t='\n      <div class="p-6">\n        \x3c!-- Header --\x3e\n        <header class="flex items-center justify-between mb-6">\n          <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100 transition-colors duration-300" id="modal-title">Average Calculator</h2>\n          <button \n            class="close-btn text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded-md p-1" \n            aria-label="Close calculator modal"\n            type="button"\n          >\n            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />\n            </svg>\n          </button>\n        </header>\n        \n        \x3c!-- Modal Description for Screen Readers --\x3e\n        <p id="modal-description" class="sr-only">\n          Interactive calculator for computing averages. Use tab navigation to move between controls. \n          Choose between custom number input or random number generation modes.\n        </p>\n\n        \x3c!-- Tab Navigation --\x3e\n        <div class="flex border-b border-gray-200 dark:border-gray-600 mb-6 transition-colors duration-300" role="tablist" aria-labelledby="input-mode-label">\n          <h3 id="input-mode-label" class="sr-only">Input Mode Selection</h3>\n          <button \n            class="tab-btn px-4 py-2 font-medium text-gray-700 dark:text-gray-200 border-b-2 border-blue-500 dark:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-300" \n            data-tab="custom" \n            role="tab"\n            aria-selected="true"\n            aria-controls="custom-tab"\n            id="custom-tab-button"\n            tabindex="0"\n          >\n            Custom Numbers\n          </button>\n          <button \n            class="tab-btn px-4 py-2 font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors duration-300" \n            data-tab="random" \n            role="tab"\n            aria-selected="false"\n            aria-controls="random-tab"\n            id="random-tab-button"\n            tabindex="-1"\n          >\n            Random Numbers\n          </button>\n        </div>\n\n        \x3c!-- Tab Content --\x3e\n        <div class="tab-content">\n          \x3c!-- Custom Numbers Tab --\x3e\n          <div \n            id="custom-tab" \n            class="tab-panel" \n            role="tabpanel" \n            aria-labelledby="custom-tab-button"\n            aria-hidden="false"\n          >\n            <div class="mb-4">\n              <p class="text-sm text-gray-600 dark:text-gray-400 mb-4 transition-colors duration-300">Enter numbers to calculate their average (2-10 numbers)</p>\n              <div id="number-inputs" class="space-y-3" role="group" aria-label="Number input fields">\n                '.concat(this.createNumberInput(0),"\n                ").concat(this.createNumberInput(1),'\n              </div>\n              <div class="mt-3 flex items-center gap-4" role="group" aria-label="Input controls">\n                <button \n                  id="add-input" \n                  class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded transition-colors duration-300"\n                  aria-label="Add another number input field"\n                  type="button"\n                >\n                  + Add another number\n                </button>\n                <button \n                  id="clear-inputs" \n                  class="text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 rounded transition-colors duration-300"\n                  aria-label="Clear all number inputs"\n                  type="button"\n                >\n                  Clear all\n                </button>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- Random Numbers Tab --\x3e\n          <div \n            id="random-tab" \n            class="tab-panel hidden" \n            role="tabpanel" \n            aria-labelledby="random-tab-button"\n            aria-hidden="true"\n          >\n            <div class="space-y-4">\n              <div>\n                <label \n                  for="random-count"\n                  class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300"\n                >\n                  How many numbers?\n                </label>\n                <input \n                  type="range" \n                  id="random-count" \n                  min="2" \n                  max="10" \n                  value="5" \n                  class="w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"\n                  aria-describedby="count-display count-range"\n                >\n                <div class="flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1 transition-colors duration-300" id="count-range">\n                  <span>2</span>\n                  <span id="count-display" class="font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300" aria-live="polite">5</span>\n                  <span>10</span>\n                </div>\n              </div>\n              \n              <fieldset class="grid grid-cols-2 gap-4">\n                <legend class="sr-only">Random number generation range</legend>\n                <div>\n                  <label \n                    for="random-min"\n                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300"\n                  >\n                    Min Value\n                  </label>\n                  <input \n                    type="number" \n                    id="random-min" \n                    value="1" \n                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors duration-300"\n                    aria-label="Minimum value for random number generation"\n                    aria-describedby="random-range-help"\n                  >\n                </div>\n                <div>\n                  <label \n                    for="random-max"\n                    class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 transition-colors duration-300"\n                  >\n                    Max Value\n                  </label>\n                  <input \n                    type="number" \n                    id="random-max" \n                    value="100" \n                    class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors duration-300"\n                    aria-label="Maximum value for random number generation"\n                    aria-describedby="random-range-help"\n                  >\n                </div>\n                <p id="random-range-help" class="sr-only col-span-2">\n                  Set the minimum and maximum values for random number generation. Generated numbers will be between these values inclusive.\n                </p>\n              </fieldset>\n              \n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Result Display --\x3e\n        <section id="result-display" class="hidden mt-6" aria-labelledby="results-heading">\n          <h3 id="results-heading" class="sr-only">Calculation Results</h3>\n          \n          \x3c!-- Input Numbers Display --\x3e\n          <div class="mb-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg transition-colors duration-300" role="region" aria-labelledby="input-summary">\n            <p id="input-summary" class="text-sm text-gray-600 dark:text-gray-400 mb-2 transition-colors duration-300">Your numbers:</p>\n            <div id="number-pills" class="flex flex-wrap gap-2" role="list" aria-label="Input numbers used in calculation"></div>\n          </div>\n\n          \x3c!-- Results Tab Navigation --\x3e\n          <div class="flex border-b border-gray-200 dark:border-gray-600 mb-4 transition-colors duration-300" role="tablist" aria-labelledby="results-tabs-label">\n            <h4 id="results-tabs-label" class="sr-only">Results Display Options</h4>\n            <button \n              class="result-tab-btn px-4 py-2 font-medium text-gray-700 dark:text-gray-200 border-b-2 border-blue-500 dark:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors" \n              data-result-tab="overview" \n              role="tab"\n              aria-selected="true"\n              aria-controls="overview-tab"\n              id="overview-tab-button"\n              tabindex="0"\n            >\n              Overview\n            </button>\n            <button \n              class="result-tab-btn px-4 py-2 font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors" \n              data-result-tab="statistics" \n              role="tab"\n              aria-selected="false"\n              aria-controls="statistics-tab"\n              id="statistics-tab-button"\n              tabindex="-1"\n            >\n              Statistics\n            </button>\n            <button \n              class="result-tab-btn px-4 py-2 font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-colors" \n              data-result-tab="history" \n              role="tab"\n              aria-selected="false"\n              aria-controls="history-tab"\n              id="history-tab-button"\n              tabindex="-1"\n            >\n              History\n            </button>\n          </div>\n\n          \x3c!-- Results Tab Content --\x3e\n          <div class="result-tab-content">\n            \x3c!-- Overview Tab --\x3e\n            <div \n              id="overview-tab" \n              class="result-tab-panel" \n              role="tabpanel" \n              aria-labelledby="overview-tab-button"\n              aria-hidden="false"\n            >\n              <div class="text-center p-6 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg transition-colors duration-300" role="region" aria-labelledby="average-display">\n                <h5 id="average-display" class="text-sm text-gray-600 dark:text-gray-300 mb-2 transition-colors duration-300">Average</h5>\n                <div id="result-value" class="text-5xl font-bold text-blue-600 dark:text-blue-300 mb-4 transition-colors duration-300" aria-live="polite" aria-atomic="true">0</div>\n                <div class="grid grid-cols-2 gap-4 mt-6 text-sm" role="group" aria-label="Summary statistics">\n                  <div class="text-center" role="group" aria-labelledby="sum-label">\n                    <p id="sum-label" class="text-gray-500 dark:text-gray-300 transition-colors duration-300">Sum</p>\n                    <p id="sum-value" class="font-semibold text-gray-700 dark:text-gray-200 transition-colors duration-300" aria-describedby="sum-label">0</p>\n                  </div>\n                  <div class="text-center" role="group" aria-labelledby="count-label">\n                    <p id="count-label" class="text-gray-500 dark:text-gray-300 transition-colors duration-300">Count</p>\n                    <p id="count-value" class="font-semibold text-gray-700 dark:text-gray-200 transition-colors duration-300" aria-describedby="count-label">0</p>\n                  </div>\n                </div>\n              </div>\n              \n              \x3c!-- Chart Visualization --\x3e\n              <div class="mt-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg transition-colors duration-300" role="region" aria-labelledby="chart-heading">\n                <h5 id="chart-heading" class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 text-center transition-colors duration-300">Data Visualization</h5>\n                <div \n                  id="chart-container" \n                  class="flex justify-center items-center min-h-[200px] text-gray-900 dark:text-gray-100 transition-colors duration-300"\n                  role="img"\n                  aria-label="Bar chart showing input numbers with average line"\n                  aria-describedby="chart-description"\n                >\n                  \x3c!-- Chart will be rendered here --\x3e\n                </div>\n                <p id="chart-description" class="sr-only">\n                  Interactive bar chart displaying all input numbers as bars with a horizontal line indicating the calculated average value.\n                </p>\n              </div>\n            </div>\n\n            \x3c!-- Statistics Tab --\x3e\n            <div \n              id="statistics-tab" \n              class="result-tab-panel hidden" \n              role="tabpanel" \n              aria-labelledby="statistics-tab-button"\n              aria-hidden="true"\n            >\n              <div class="grid grid-cols-1 md:grid-cols-2 gap-4" role="list" aria-label="Detailed statistical measures">\n                <article class="stat-card p-4 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg transition-colors duration-300" role="listitem" aria-labelledby="median-heading">\n                  <div class="flex items-center justify-between mb-2">\n                    <h5 id="median-heading" class="font-medium text-gray-700 dark:text-gray-200 transition-colors duration-300">Median</h5>\n                    <button \n                      class="tooltip-trigger text-gray-400 dark:text-gray-500 cursor-help transition-colors duration-300 p-1 rounded focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50" \n                      data-tooltip="The middle value when numbers are sorted"\n                      aria-label="Information about median calculation"\n                      type="button"\n                    >ⓘ</button>\n                  </div>\n                  <p id="median-value" class="text-2xl font-bold text-green-600 dark:text-green-400 transition-colors duration-300" aria-describedby="median-heading">0</p>\n                </article>\n                \n                <article class="stat-card p-4 bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/30 rounded-lg transition-colors duration-300" role="listitem" aria-labelledby="variance-heading">\n                  <div class="flex items-center justify-between mb-2">\n                    <h5 id="variance-heading" class="font-medium text-gray-700 dark:text-gray-200 transition-colors duration-300">Variance</h5>\n                    <button \n                      class="tooltip-trigger text-gray-400 dark:text-gray-500 cursor-help transition-colors duration-300 p-1 rounded focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50" \n                      data-tooltip="Sample variance: average squared deviation from mean (s²)"\n                      aria-label="Information about variance calculation"\n                      type="button"\n                    >ⓘ</button>\n                  </div>\n                  <p id="variance-value" class="text-2xl font-bold text-purple-600 dark:text-purple-400 transition-colors duration-300" aria-describedby="variance-heading">0</p>\n                </article>\n                \n                <article class="stat-card p-4 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/30 dark:to-amber-900/30 rounded-lg transition-colors duration-300" role="listitem" aria-labelledby="range-heading">\n                  <div class="flex items-center justify-between mb-2">\n                    <h5 id="range-heading" class="font-medium text-gray-700 dark:text-gray-200 transition-colors duration-300">Range</h5>\n                    <button \n                      class="tooltip-trigger text-gray-400 dark:text-gray-500 cursor-help transition-colors duration-300 p-1 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50" \n                      data-tooltip="The difference between the highest and lowest values"\n                      aria-label="Information about range calculation"\n                      type="button"\n                    >ⓘ</button>\n                  </div>\n                  <p id="range-value" class="text-2xl font-bold text-orange-600 dark:text-orange-400 transition-colors duration-300" aria-describedby="range-heading">0</p>\n                </article>\n                \n                <article class="stat-card p-4 bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-900/30 dark:to-rose-900/30 rounded-lg transition-colors duration-300" role="listitem" aria-labelledby="stddev-heading">\n                  <div class="flex items-center justify-between mb-2">\n                    <h5 id="stddev-heading" class="font-medium text-gray-700 dark:text-gray-200 transition-colors duration-300">Std. Deviation</h5>\n                    <button \n                      class="tooltip-trigger text-gray-400 dark:text-gray-500 cursor-help transition-colors duration-300 p-1 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50" \n                      data-tooltip="A measure of how spread out the numbers are"\n                      aria-label="Information about standard deviation calculation"\n                      type="button"\n                    >ⓘ</button>\n                  </div>\n                  <p id="stddev-value" class="text-2xl font-bold text-red-600 dark:text-red-400 transition-colors duration-300" aria-describedby="stddev-heading">0</p>\n                </article>\n              </div>\n            </div>\n\n            \x3c!-- History Tab --\x3e\n            <div \n              id="history-tab" \n              class="result-tab-panel hidden" \n              role="tabpanel" \n              aria-labelledby="history-tab-button"\n              aria-hidden="true"\n            >\n              <div class="flex items-center justify-between mb-4">\n                <h5 id="history-heading" class="font-medium text-gray-700 dark:text-gray-300 transition-colors duration-300">Recent Calculations</h5>\n                <button \n                  id="clear-history" \n                  class="text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 rounded transition-colors duration-300"\n                  aria-label="Clear all calculation history"\n                  type="button"\n                >\n                  Clear History\n                </button>\n              </div>\n              <div \n                id="history-list" \n                class="space-y-2 max-h-60 overflow-y-auto custom-scrollbar" \n                role="list" \n                aria-labelledby="history-heading"\n                aria-describedby="history-help"\n              >\n                \x3c!-- History items will be populated here --\x3e\n              </div>\n              <p id="history-help" class="sr-only">\n                Click on any history item to reload those numbers and results. Use tab key to navigate through history items.\n              </p>\n            </div>\n          </div>\n\n          \x3c!-- Result Action Buttons --\x3e\n          <div class="flex gap-3 justify-center mt-6" role="group" aria-label="Result actions">\n            <button \n              id="calculate-again" \n              class="px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400 transition-colors"\n              aria-label="Start a new calculation with fresh inputs"\n              type="button"\n            >\n              Calculate Again\n            </button>\n            <button \n              id="copy-result" \n              class="copy-result-btn px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors"\n              aria-label="Copy calculation results to clipboard"\n              aria-describedby="copy-help"\n              type="button"\n            >\n              Copy Result\n            </button>\n          </div>\n          <p id="copy-help" class="sr-only">\n            Copies the current tab\'s content to clipboard. Switch tabs to copy different result formats.\n          </p>\n\n          \x3c!-- Tooltip --\x3e\n          <div \n            id="tooltip" \n            class="hidden absolute bg-gray-800 dark:bg-gray-900 text-white text-xs rounded px-2 py-1 pointer-events-none z-50 shadow-lg"\n            role="tooltip"\n            aria-hidden="true"\n          ></div>\n        </section>\n\n        \x3c!-- Error Display --\x3e\n        <div \n          id="error-display" \n          class="hidden mt-4 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-md transition-colors duration-300"\n          role="alert"\n          aria-live="assertive"\n        >\n          <p class="text-sm text-red-600 dark:text-red-400 transition-colors duration-300" id="error-message"></p>\n        </div>\n\n        \x3c!-- Footer with Challenge Toggle and Action Buttons --\x3e\n        <div class="mt-6 flex items-center justify-between">\n          \x3c!-- Challenge Mode Toggle --\x3e\n          <div class="flex items-center">\n            <input \n              type="checkbox" \n              id="enable-guessing" \n              class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"\n              checked\n            >\n            <label \n              for="enable-guessing" \n              class="ml-2 text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer"\n              title="Test your math skills by guessing statistical values before calculation"\n            >\n              Challenge Mode 🎯\n            </label>\n          </div>\n          \n          \x3c!-- Action Buttons --\x3e\n          <div class="flex gap-3" role="group" aria-label="Calculator actions">\n            <button \n              id="cancel-btn" \n              class="px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-600 rounded-md hover:bg-gray-300 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400 transition-colors duration-300"\n              aria-label="Cancel and close calculator"\n              type="button"\n            >\n              Cancel\n            </button>\n            <button \n              id="calculate-btn" \n              class="px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-md hover:from-green-600 hover:to-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-colors"\n              aria-describedby="calculate-help"\n              type="button"\n            >\n              Calculate Average\n            </button>\n            <p id="calculate-help" class="sr-only">\n              Processes entered numbers and displays comprehensive statistical results including average, median, variance, and more.\n            </p>\n          </div>\n        </div>\n      </div>\n    ');this.setContent(t),this.attachEventListeners()}},{key:"createNumberInput",value:function(t){return'\n      <div class="flex items-center gap-2 number-input-group" role="group" aria-label="Number input '.concat(t+1,'">\n        <label for="number-input-').concat(t,'" class="sr-only">Number ').concat(t+1,'</label>\n        <input \n          type="number" \n          id="number-input-').concat(t,'"\n          class="number-input flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-md focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 transition-colors duration-300" \n          placeholder="Enter a number"\n          aria-label="Number ').concat(t+1,' input field"\n          aria-describedby="number-help-').concat(t,'"\n          step="any"\n        >\n        <span id="number-help-').concat(t,'" class="sr-only">Enter any numeric value for calculation</span>\n        ').concat(t>1?'\n          <button \n            class="remove-input text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 rounded transition-colors duration-300 p-1" \n            aria-label="Remove number '.concat(t+1,' input field"\n            type="button"\n          >\n            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />\n            </svg>\n          </button>\n        '):"","\n      </div>\n    ")}},{key:"attachEventListeners",value:function(){var t=this;this.modal.querySelector(".close-btn").addEventListener("click",function(){return t.close()}),this.modal.querySelector("#cancel-btn").addEventListener("click",function(){return t.close()}),this.modal.querySelectorAll(".tab-btn").forEach(function(e){e.addEventListener("click",function(e){return t.switchTab(e.target.dataset.tab)}),e.addEventListener("keydown",function(e){return t.handleTabKeyNavigation(e,"tab-btn")})}),this.modal.querySelector("#add-input").addEventListener("click",function(){return t.addNumberInput()}),this.modal.querySelector("#clear-inputs").addEventListener("click",function(){return t.clearAllInputs()}),this.modal.querySelector("#calculate-btn").addEventListener("click",function(){return t.calculate()});var e=this.modal.querySelector("#random-count"),n=this.modal.querySelector("#count-display");e.addEventListener("input",function(t){n.textContent=t.target.value}),this.modal.querySelectorAll(".result-tab-btn").forEach(function(e){e.addEventListener("click",function(e){return t.switchResultTab(e.target.dataset.resultTab)}),e.addEventListener("keydown",function(e){return t.handleTabKeyNavigation(e,"result-tab-btn")})}),this.modal.querySelector("#calculate-again").addEventListener("click",function(){return t.reset()}),this.modal.querySelector("#copy-result").addEventListener("click",function(){return t.copyResult()}),this.modal.querySelector("#clear-history").addEventListener("click",function(){return t.clearHistory()}),this.modal.addEventListener("mouseenter",function(e){e.target.classList.contains("tooltip-trigger")&&t.showTooltip(e.target,e.target.dataset.tooltip)},!0),this.modal.addEventListener("mouseleave",function(e){e.target.classList.contains("tooltip-trigger")&&t.hideTooltip()},!0),this.modal.addEventListener("click",function(e){e.target.closest(".remove-input")&&t.removeNumberInput(e.target.closest(".number-input-group"))}),this.modal.addEventListener("input",function(e){e.target.classList.contains("number-input")&&t.validateInput(e.target)})}},{key:"switchTab",value:function(t){this.mode=t,this.modal.querySelectorAll(".tab-btn").forEach(function(e){e.dataset.tab===t?(e.classList.add("text-gray-700","dark:text-gray-200","border-b-2","border-blue-500","dark:border-blue-400"),e.classList.remove("text-gray-500","dark:text-gray-400"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0")):(e.classList.remove("text-gray-700","dark:text-gray-200","border-b-2","border-blue-500","dark:border-blue-400"),e.classList.add("text-gray-500","dark:text-gray-400"),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"))});var e=this.modal.querySelector(".tab-content");e.classList.contains("hidden")&&e.classList.remove("hidden");var n=this.modal.querySelector("#custom-tab"),r=this.modal.querySelector("#random-tab");"custom"===t?(n.classList.remove("hidden"),n.setAttribute("aria-hidden","false"),r.classList.add("hidden"),r.setAttribute("aria-hidden","true")):(n.classList.add("hidden"),n.setAttribute("aria-hidden","true"),r.classList.remove("hidden"),r.setAttribute("aria-hidden","false")),this.announceToScreenReader("Switched to ".concat("custom"===t?"custom":"random"," numbers input mode"));var a=this.modal.querySelector("#calculate-btn");a.classList.remove("hidden"),a.textContent="custom"===t?"Calculate Average":"Generate & Calculate Average",this.hideError(),this.hideResult()}},{key:"addNumberInput",value:function(){var t=this.modal.querySelector("#number-inputs"),e=t.querySelectorAll(".number-input-group").length;if(e>=10)this.showError("Maximum 10 numbers allowed");else{var n=document.createElement("div");n.innerHTML=this.createNumberInput(e),t.appendChild(n.firstElementChild),t.lastElementChild.querySelector("input").focus()}}},{key:"removeNumberInput",value:function(t){this.modal.querySelector("#number-inputs").querySelectorAll(".number-input-group").length<=2?this.showError("Minimum 2 numbers required"):t.remove()}},{key:"clearAllInputs",value:function(){this.modal.querySelectorAll(".number-input").forEach(function(t){t.value="",t.classList.remove("border-red-500")}),this.hideError(),this.numbers=[],this.result=null,this.modal.querySelector("#number-inputs").querySelectorAll(".number-input-group").forEach(function(t,e){e>1&&t.remove()})}},{key:"validateInput",value:function(t){var e=t.value;e&&isNaN(e)?(t.classList.add("border-red-500"),this.showError("Please enter valid numbers only")):(t.classList.remove("border-red-500"),this.hideError())}},{key:"generateRandomNumbers",value:function(){var t=parseInt(this.modal.querySelector("#random-count").value),e=parseInt(this.modal.querySelector("#random-min").value),n=parseInt(this.modal.querySelector("#random-max").value);if(e>=n)this.showError("Maximum value must be greater than minimum value");else{this.numbers=[];for(var r=0;r<t;r++)this.numbers.push(Math.floor(Math.random()*(n-e+1))+e)}}},{key:"calculate",value:function(){var t=this;this.calculationStartTime=window.performance.now();var e=this.modal.querySelector("#calculate-btn");e.classList.add("animate-button-press"),setTimeout(function(){return e.classList.remove("animate-button-press")},150);var n=e.textContent;e.disabled=!0,e.innerHTML='\n      <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">\n        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>\n        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>\n      </svg>\n      Calculating...\n    ',setTimeout(function(){if("custom"===t.mode){var r=t.modal.querySelectorAll(".number-input");if(t.numbers=[],r.forEach(function(e){if(e.value.trim()){var n=parseFloat(e.value);isNaN(n)||t.numbers.push(n)}}),t.numbers.length<2)return e.disabled=!1,e.textContent=n,void t.showError("Please enter at least 2 numbers")}else t.generateRandomNumbers();t.numbers.length>=2&&t.checkForGuess()},500)}},{key:"checkForGuess",value:function(){var t,e=this,n=(t=this.numbers)&&0!==t.length?{average:h(t)/t.length,median:d(t),variance:b(t),range:m(t),standardDeviation:p(t),sum:h(t),count:g(t)}:{average:0,median:0,variance:0,range:0,standardDeviation:0,sum:0,count:0};this.modal.querySelector("#enable-guessing").checked?new R(this.numbers,{average:n.average,median:n.median,variance:n.variance,stdDev:n.standardDeviation,range:n.range},function(t){e.processGuessResults(t,n)}):this.processGuessResults(null,n)}},{key:"processGuessResults",value:function(t,e){var n=this.numbers.length;D.X.recordCalculation(this.mode,n,t),window.performance.now()-(this.calculationStartTime||0)<2e3&&D.X.unlockMilestone("speed_demon"),this.result=e.average,this.allStats=e,this.displayResult()}},{key:"displayResult",value:function(){var t=this;try{var e=this.allStats;!function(t){try{var e=E(),n={id:Date.now(),timestamp:(new Date).toISOString(),numbers:w(t.numbers),results:x({},t.results),inputType:t.inputType||"custom"};return e.unshift(n),e.length>10&&e.splice(10),localStorage.setItem(A,JSON.stringify(e)),n}catch(t){return console.error("Failed to save calculation:",t),null}}({numbers:this.numbers,results:e,inputType:this.mode}),this.modal.querySelector(".tab-content").classList.add("hidden"),this.modal.querySelector("#calculate-btn").classList.add("hidden"),this.modal.querySelector("#result-display").classList.remove("hidden"),this.switchResultTab("overview"),this.modal.querySelector("#number-pills").innerHTML=this.numbers.map(function(t,e){return'<span class="px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm transition-colors duration-300" role="listitem" aria-label="Input number '.concat(e+1,": ").concat(y(t),'">').concat(y(t),"</span>")}).join(""),this.populateResults(e),this.animateNumber(e.average),setTimeout(function(){t.renderChart(t.numbers,e.average)},100),this.loadHistory(),this.announceToScreenReader("Calculation completed. Average is ".concat(y(e.average),". Results displayed with ").concat(this.numbers.length," numbers processed."))}catch(t){this.showError(t.message)}}},{key:"animateNumber",value:function(t){var e=this,n=this.modal.querySelector("#result-value"),r=null;n.classList.add("animate-numberMorph");var a=function(o){r||(r=o);var i=o-r,s=Math.min(i/1500,1),l=1-Math.pow(1-s,4),u=0+(t-0)*l;n.textContent=u.toFixed(2),s<1?requestAnimationFrame(a):(n.textContent=t.toFixed(2),n.classList.remove("animate-numberMorph"),n.classList.add("animate-celebrate"),setTimeout(function(){n.classList.remove("animate-celebrate"),e.triggerConfetti()},600))};requestAnimationFrame(a)}},{key:"triggerConfetti",value:function(){for(var t=["#059669","#3b82f6","#8b5cf6","#f59e0b","#ef4444"],e=function(){var e=document.createElement("div");e.className="confetti",e.style.left=100*Math.random()+"vw",e.style.backgroundColor=t[Math.floor(Math.random()*t.length)],e.style.animationDelay=2*Math.random()+"s",e.style.animationDuration=2*Math.random()+2+"s",document.body.appendChild(e),setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},4e3)},n=0;n<50;n++)e();z.showSignature(),z.animateFavicon();var r=D.X.getNextBadge();r&&z.updateAchievementProgress(r.progress)}},{key:"reset",value:function(){this.modal.querySelector(".tab-content").classList.remove("hidden");var t=this.modal.querySelector("#calculate-btn");t.classList.remove("hidden"),t.disabled=!1,t.textContent="custom"===this.mode?"Calculate Average":"Generate & Calculate Average",this.modal.querySelector("#result-display").classList.add("hidden"),"custom"===this.mode&&this.modal.querySelectorAll(".number-input").forEach(function(t){t.classList.remove("border-red-500")}),this.hideError()}},{key:"copyResult",value:function(){var t=this;if(null!==this.result&&this.allStats){var e="",n=this.modal.querySelector('.result-tab-btn[aria-selected="true"]');switch(n?n.dataset.resultTab:"overview"){case"overview":default:e="Average: ".concat(y(this.result));break;case"statistics":e="Statistics for [".concat(this.numbers.map(function(t){return y(t)}).join(", "),"]:\nAverage: ").concat(y(this.allStats.average),"\nMedian: ").concat(y(this.allStats.median),"\nVariance: ").concat(y(this.allStats.variance),"\nRange: ").concat(y(this.allStats.range),"\nStandard Deviation: ").concat(y(this.allStats.standardDeviation),"\nSum: ").concat(y(this.allStats.sum),"\nCount: ").concat(this.allStats.count);break;case"history":var r=E();e=r.length>0?"Calculation History:\n".concat(r.map(function(t){return"Numbers: [".concat(t.numbers.map(function(t){return y(t)}).join(", "),"] → Average: ").concat(y(t.results.average)," (").concat(C(t.timestamp),")")}).join("\n")):"No calculation history available"}navigator.clipboard.writeText(e).then(function(){var e=t.modal.querySelector("#copy-result"),n=e.textContent;e.textContent="Copied!",e.classList.add("bg-green-600","hover:bg-green-700"),setTimeout(function(){e.textContent=n,e.classList.remove("bg-green-600","hover:bg-green-700")},2e3)})}}},{key:"showError",value:function(t){var e=this.modal.querySelector("#error-display");this.modal.querySelector("#error-message").textContent=t,e.classList.remove("hidden"),this.announceToScreenReader("Error: ".concat(t))}},{key:"hideError",value:function(){this.modal.querySelector("#error-display").classList.add("hidden")}},{key:"hideResult",value:function(){this.modal.querySelector("#result-display").classList.add("hidden")}},{key:"switchResultTab",value:function(t){this.modal.querySelectorAll(".result-tab-btn").forEach(function(e){e.dataset.resultTab===t?(e.classList.add("text-gray-700","dark:text-gray-200","border-b-2","border-blue-500","dark:border-blue-400"),e.classList.remove("text-gray-500","dark:text-gray-400"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0")):(e.classList.remove("text-gray-700","dark:text-gray-200","border-b-2","border-blue-500","dark:border-blue-400"),e.classList.add("text-gray-500","dark:text-gray-400"),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1"))}),this.modal.querySelectorAll(".result-tab-panel").forEach(function(e){e.id==="".concat(t,"-tab")?(e.classList.remove("hidden"),e.setAttribute("aria-hidden","false")):(e.classList.add("hidden"),e.setAttribute("aria-hidden","true"))}),this.announceToScreenReader("Switched to ".concat(t," results view"))}},{key:"populateResults",value:function(t){var e=this;this.modal.querySelector("#sum-value").textContent=y(t.sum),this.modal.querySelector("#count-value").textContent=t.count,setTimeout(function(){if(document.documentElement.classList.contains("dark")){var t=e.modal.querySelector("#overview-tab");if(t){var n=t.querySelector("p.text-sm");n&&(n.classList.remove("text-gray-600","dark:text-gray-400"),n.classList.add("text-gray-300"));var r=e.modal.querySelector("#result-value");r&&(r.classList.remove("text-blue-600","dark:text-blue-400"),r.classList.add("text-blue-300"));var a=t.querySelector(".grid");if(a){var o=a.querySelectorAll("p.text-gray-500"),i=a.querySelectorAll("p.font-semibold");o.forEach(function(t){t.classList.remove("text-gray-500","dark:text-gray-400"),t.classList.add("text-gray-300")}),i.forEach(function(t){t.classList.remove("text-gray-700","dark:text-gray-300"),t.classList.add("text-gray-200")})}}}},50),[{element:this.modal.querySelector("#median-value"),value:y(t.median)},{element:this.modal.querySelector("#variance-value"),value:y(t.variance)},{element:this.modal.querySelector("#range-value"),value:y(t.range)},{element:this.modal.querySelector("#stddev-value"),value:y(t.standardDeviation)}].forEach(function(t,e){setTimeout(function(){t.element.textContent=t.value;var e=t.element.closest(".stat-card");e.classList.add("animate-pulse-glow"),setTimeout(function(){e.classList.remove("animate-pulse-glow")},2e3)},200*e)})}},{key:"loadHistory",value:function(){var t=this,e=E(),n=this.modal.querySelector("#history-list");0!==e.length?(n.innerHTML=e.map(function(t){return'\n      <div class="history-item p-3 bg-gray-50 dark:bg-gray-700/70 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600/80 transition-colors duration-300" \n           data-calculation-id="'.concat(t.id,'">\n        <div class="flex justify-between items-start">\n          <div class="flex-1">\n            <div class="flex flex-wrap gap-1 mb-1">\n              ').concat(t.numbers.slice(0,5).map(function(t){return'<span class="text-xs px-2 py-0.5 bg-blue-100 dark:bg-blue-900/70 text-blue-600 dark:text-blue-200 rounded transition-colors duration-300">'.concat(y(t),"</span>")}).join(""),"\n              ").concat(t.numbers.length>5?'<span class="text-xs text-gray-500 dark:text-gray-300 transition-colors duration-300">+'.concat(t.numbers.length-5," more</span>"):"",'\n            </div>\n            <p class="text-sm font-medium text-gray-700 dark:text-gray-100 transition-colors duration-300">Avg: ').concat(y(t.results.average),'</p>\n          </div>\n          <div class="text-right">\n            <p class="text-xs text-gray-500 dark:text-gray-300 transition-colors duration-300">').concat(C(t.timestamp),'</p>\n            <p class="text-xs text-gray-400 dark:text-gray-400 capitalize transition-colors duration-300">').concat(t.inputType,"</p>\n          </div>\n        </div>\n      </div>\n    ")}).join(""),n.addEventListener("click",function(e){var n=e.target.closest(".history-item");if(n){var r=parseInt(n.dataset.calculationId);t.loadFromHistory(r)}})):n.innerHTML='<p class="text-gray-500 text-center py-4">No calculations yet</p>'}},{key:"loadFromHistory",value:function(t){var e=E().find(function(e){return e.id===t});e&&(this.numbers=function(t){return function(t){if(Array.isArray(t))return U(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return U(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.numbers),this.mode=e.inputType,this.allStats=e.results,this.result=e.results.average,this.populateResults(e.results),this.modal.querySelector("#number-pills").innerHTML=this.numbers.map(function(t){return'<span class="px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm">'.concat(y(t),"</span>")}).join(""),this.modal.querySelector("#result-value").textContent=y(e.results.average),this.renderChart(this.numbers,e.results.average),this.switchResultTab("overview"))}},{key:"clearHistory",value:function(){confirm("Are you sure you want to clear all calculation history?")&&E().length>0&&(localStorage.removeItem("meanmachine_calculations"),this.loadHistory())}},{key:"showTooltip",value:function(t,e){var n=this.modal.querySelector("#tooltip");n.textContent=e,n.classList.remove("hidden"),n.classList.add("animate-tooltip-appear");var r=t.getBoundingClientRect(),a=this.modal.getBoundingClientRect();n.style.left="".concat(r.left-a.left+r.width/2,"px"),n.style.top="".concat(r.top-a.top-n.offsetHeight-5,"px"),n.style.transform="translateX(-50%)"}},{key:"hideTooltip",value:function(){var t=this.modal.querySelector("#tooltip");t.classList.remove("animate-tooltip-appear"),t.classList.add("hidden")}},{key:"renderChart",value:function(t,e){var n=this,r=this.modal.querySelector("#chart-container");if(r){this.chart&&(this.chart.destroy(),this.chart=null);var a=this.modal.querySelector("#overview-tab");if(a&&!a.classList.contains("hidden")){var o=r.getBoundingClientRect(),i=Math.min(400,Math.max(300,o.width-20)),s=document.documentElement.classList.contains("dark");this.chart=new N(r,{width:i,height:200,barColor:s?"#60a5fa":"#3b82f6",averageLineColor:s?"#f87171":"#ef4444",animationDuration:1e3});try{this.chart.render(t,e)}catch(t){console.error("Chart rendering error:",t)}}else setTimeout(function(){return n.renderChart(t,e)},200)}else console.warn("Chart container not found")}},{key:"handleTabKeyNavigation",value:function(t,e){var n,r=Array.from(this.modal.querySelectorAll(".".concat(e))),a=r.findIndex(function(e){return e===t.target});switch(t.key){case"ArrowLeft":case"ArrowUp":t.preventDefault(),r[n=a>0?a-1:r.length-1].focus(),r[n].click();break;case"ArrowRight":case"ArrowDown":t.preventDefault(),r[n=a<r.length-1?a+1:0].focus(),r[n].click();break;case"Home":t.preventDefault(),r[0].focus(),r[0].click();break;case"End":t.preventDefault(),r[r.length-1].focus(),r[r.length-1].click();break;case"Enter":case" ":t.preventDefault(),t.target.click()}}},{key:"announceToScreenReader",value:function(t){var e=document.getElementById("screen-reader-announcer");e||((e=document.createElement("div")).id="screen-reader-announcer",e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",document.body.appendChild(e)),e.textContent="",setTimeout(function(){e.textContent=t},100)}}],r&&Y(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(l)}}]);
//# sourceMappingURL=common.1d25cb87a931072dd9d2.js.map